.profile-content
  - if @user.donor?
    %table.table.table-striped
      %thead
        - %w[ID Recipient Date Items Status].each do |th|
          %th= th
      %tbody
        - @donations.each do |donation|
          %tr
            %td
              = link_to "#{donation.id}", receiver_donation_path(@user, donation)
            %td
              -if donation.receiver
                = donation.receiver.email
              -else
                = link_to 'Add Receiver', donor_donation_receivers_path(@user, donation)
            %td
              = donation.created_at
            %td
              -if donation.items.any?
                - donation.items.each do |item|
                  = unscoped_food(item.food_id).name.titleize
                  = item.quantity
                  = item.quantity_type.titleize
              -else
                = link_to 'Add Item', new_donor_donation_donation_item_path(@user, donation) unless donation.donated?
                %br
            %td
              -if donation.received?
                Confirmed
              -else
                Pending
    = link_to 'New Donation', new_donor_donation_path(@user)
    = link_to 'Back to profile', donor_path(@user)

  - if @user.receiver?
    %table
      %thead
        - %w[ID Donor Date Items Status].each do |th|
          %th= th
      %tbody
        - @donations.each do |donation|
          %tr
            %td
              = link_to "#{donation.id}", receiver_donation_path(@user, donation)
            %td
              = donation.donor.email
            %td
              = donation.created_at
            %td
              - donation.items.each do |item|
                = item.description.titleize
                = item.quantity
                = item.quantity_type.titleize
                %br
            %td
              -if donation.received?
                Confirmed
              -else
                = link_to 'Confirm Receipt', donation_receive_path(donation)
    = link_to 'Back to profile', receiver_path(@user)
